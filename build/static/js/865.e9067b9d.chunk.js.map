{"version":3,"file":"static/js/865.e9067b9d.chunk.js","mappings":"6LAmEA,QA5DA,WACE,IAAI,SAACA,EAAQ,aAACC,IAAcC,EAAAA,EAAAA,OACxB,YAACC,IAAaC,EAAAA,EAAAA,KAAYC,GAAOA,EAAMC,aACtCC,EAAIC,IAAQC,EAAAA,EAAAA,UAAS,IACtBC,GAASC,EAAAA,EAAAA,MAGTC,EAAMC,eAAeC,QAAQ,SACjC,MAAMC,EAAeC,EAAAA,EAAMC,OAAO,CAChCC,QAAQ,CAACC,cAAc,UAADC,OAAWR,MA4BnC,OACES,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oBAAmBC,UAChCC,EAAAA,EAAAA,MAAA,QAAMF,UAAU,mBAAmBG,SAAUxB,GA1B7ByB,UAClBC,EAAKC,UAAUC,KAAKC,MACpBH,EAAKI,eAAgB,IAAIF,KACzBF,EAAKK,mBAAmB,IAAIH,KAC5BF,EAAKM,SAAS,GACdN,EAAKO,SAAS/B,EAAY+B,SAC1BP,EAAKQ,QAAO,EAEZ,IAAIC,QAAYrB,EAAesB,KAAK,+CAA+CV,GACnFW,QAAQC,IAAI,uBAAuBH,EAAIT,KAAKa,SACvB,qBAAlBJ,EAAIT,KAAKa,QAGV9B,EAAS,sCAADU,OAAuCjB,EAAY+B,WAI3D1B,EAAO4B,EAAIT,KAAKa,SAIlBF,QAAQC,IAAIZ,EAAK,IAK0DJ,SAAA,EACzEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,kBAAkBmB,IAAI,QAAOlB,SAAE,WAChDF,EAAAA,EAAAA,KAAA,SAAOqB,KAAK,OAAOC,GAAG,QAAQrB,UAAU,oBAAoBsB,YAAY,WAAa5C,EAAS,YAC9FwB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,kBAAiBC,SAAA,EAC9BF,EAAAA,EAAAA,KAAA,SAAOoB,IAAI,aAAanB,UAAU,OAAMC,SAAC,cACzCC,EAAAA,EAAAA,MAAA,UAAQF,UAAU,eAAeqB,GAAG,gBAAiB3C,EAAS,YAAWuB,SAAA,EACvEF,EAAAA,EAAAA,KAAA,UAAQwB,MAAM,cAAatB,SAAC,iBAC5BF,EAAAA,EAAAA,KAAA,UAAQwB,MAAM,QAAOtB,SAAC,aACtBF,EAAAA,EAAAA,KAAA,UAAQwB,MAAM,WAAUtB,SAAC,oBAI7BF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,kBAAiBmB,IAAI,UAASlB,SAAE,aACjDF,EAAAA,EAAAA,KAAA,YAAUsB,GAAG,UAAUG,KAAK,KAAMxB,UAAU,uBAAyBtB,EAAS,cAE9EqB,EAAAA,EAAAA,KAAA,UAAQC,UAAU,kBAAiBC,SAAC,aAI1C,C","sources":["components/AddArticles.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport {useForm} from 'react-hook-form';\r\nimport {useSelector} from 'react-redux';\r\n//import {axiosWithToken} from '../axiosWithToken'\r\nimport axios from 'axios'\r\nimport {useNavigate} from 'react-router-dom'\r\n\r\nfunction Addarticles() {\r\n  let {register,handleSubmit}=useForm();\r\n  let {currentUser}=useSelector(state=>state.userLogin)\r\n  let [err,setErr]=useState('');\r\n  let navigate=useNavigate();\r\n\r\n  //axios with token function\r\n  let token=sessionStorage.getItem('token')\r\n  const axiosWithToken=axios.create({\r\n    headers:{Authorization:`Bearer ${token}`}\r\n  })\r\n\r\n  //form submit\r\n  const addNewArticle=async(data)=>{\r\n    data.articleId=Date.now();\r\n    data.dateOfCreation= new Date();\r\n    data.dateOfModification=new Date();\r\n    data.comments=[];\r\n    data.username=currentUser.username;\r\n    data.status=true;\r\n    //make http post request to AUTHOR API\r\n    let res = await axiosWithToken.post('http://localhost:4000/author-api/new-article',data);\r\n    console.log('response at frontend',res.data.message);\r\n    if(res.data.message==\"NEW ARTICLE ADDED\"){\r\n      //NAVIGATE TO AUTHOR ARTICLES BY AUTHOR NAME\r\n      //we have to give complete path\r\n      navigate(`/author-profile/articles-by-author/${currentUser.username}`)\r\n\r\n    }\r\n    else{\r\n      setErr(res.data.message);\r\n    }\r\n    \r\n\r\n    console.log(data);\r\n\r\n  }\r\n  return (\r\n    <div className='mt-5 p-5 bg-light'>\r\n      <form className='w-50 mx-auto p-5' onSubmit={handleSubmit(addNewArticle)}>\r\n      <label className='form-label mb-3' for=\"title\" >TITLE</label>\r\n      <input type='text' id='title' className='form-control mb-3' placeholder='TITLE'  {...register(\"title\")}></input>\r\n      <div className='form-group mb-3'>\r\n        <label for=\"select-grp\" className='mb-3'>CATEGORY</label>\r\n        <select className='form-control' id='select-grp' {...register(\"category\")}>\r\n          <option value=\"Programming\">Programming</option>\r\n          <option value=\"AI&ML\">AI & ML</option>\r\n          <option value=\"Database\">Database</option>\r\n        </select>\r\n      </div>\r\n\r\n      <label className='form-label mb-3'for=\"content\" >CONTENT</label>\r\n      <textarea id='content' rows=\"10\"  className='form-control mb-3'  {...register(\"content\")}></textarea>\r\n\r\n      <button className='btn btn-success'>Post</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Addarticles"],"names":["register","handleSubmit","useForm","currentUser","useSelector","state","userLogin","err","setErr","useState","navigate","useNavigate","token","sessionStorage","getItem","axiosWithToken","axios","create","headers","Authorization","concat","_jsx","className","children","_jsxs","onSubmit","async","data","articleId","Date","now","dateOfCreation","dateOfModification","comments","username","status","res","post","console","log","message","for","type","id","placeholder","value","rows"],"sourceRoot":""}